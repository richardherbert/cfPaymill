---
---
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>ColdFusion API for Paymill Payment Services</title>

		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">


		<base href="{{ site.baseurl }}"></base>

		<link rel="stylesheet" href="css/bootstrap.min.css">

		<style>
			body {
				padding-top: 60px;
				padding-bottom: 40px;
			}
		</style>

		<link rel="stylesheet" href="css/bootstrap-responsive.min.css">
		<link rel="stylesheet" href="css/main.css">

		<script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>

	<body>
		<!--[if lt IE 7]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>

					<a class="brand" href="/">cfPaymill</a>

					<div class="nav-collapse collapse">
						<ul class="nav">

							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Change Log <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class=""><a href="/changelog/cfpaymill">cfPaymill.cfc</a></li>
									<li class=""><a href="/changelog/website">Website</a></li>
								</ul>
							</li>

							<li class=""><a href="/contact">Contact</a></li>
 						</ul>






  					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div  class="row-fluid">
				<div  class="span12">



	<div  class="row-fluid">
		<div  class="span12">
			<h1>changelog &gt; cfpaymill.cfc</h1>
		</div>
	</div>

	<div  class="row-fluid">
		<div  class="span12">
			<table class="table table-striped table-bordered table-condensed">
				<thead>
					<tr>
						<th>Version</th>
						<th>Date</th>
						<th>Change</th>
					</tr>
				</thead>

				<tbody>
					<tr>
						<td>0.3.6</td>
						<td>8&nbsp;March&nbsp;2015</td>
						<td>
							<ol>
								<li>Subscription "next_capture_at" converted to ColdFusion date object.</li>
								<li>TextBox unit tests for Paymill v2.0 API added.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.3.5</td>
						<td>23&nbsp;February&nbsp;2015</td>
						<td>
							<ol>
								<li>Method getSubscription() was incorrectly set to return "refunds" now changed to "subscriptions". Thanks to Yogesh Mathur - https://github.com/ymathur</li>
								<li>Paymill requires parameters names to be lower case and ColdFusion returns structure keys as upper case. Parameters forced to lower case.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.3.4</td>
						<td>22&nbsp;May&nbsp;2014</td>
						<td>
							<ol>
								<li>Trap and reports the reason for a failed card. Thanks to John Whish - https://github.com/aliaspooryorik</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.3.3</td>
						<td>15&nbsp;May&nbsp;2014</td>
						<td>
							<ol>
								<li>Method getPrivateKey() added</li>
								<li>Method getPublicKey() added</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.3.2</td>
						<td>23&nbsp;February&nbsp;2014</td>
						<td>
							<ol>
								<li>Method of authorization changed.</li>
								<li>Method updateSubscription() argument payment added and default value for offer added.</li>
								<li>Paymill response code messages added.</li>
								<li>Array of epochDatesToConvert added.</li>
								<li>Method deletePayment() added.</li>
								<li>Default values for addPreauthorization() payment and token arguments added.</li>
								<li>Method addSubscription() argument order changed and handling of no client argument added.</li>
								<li>Method parseWebhook() added.</li>
								<li>Method getResponseMessage() added.</li>
								<li>Replace all the "null" subscription values in the JSON packet with a ColdFusion empty array.</li>
								<li>Method getEpochTimeFromLocal() added.</li>
								<li>Method convertAmountsFromBase() added.</li>
								<li>Method replaceWithCallback() added.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.2.2</td>
						<td>24&nbsp;September&nbsp;2013</td>
						<td>
							<ol>
								<li>Support for logging Paymill requests and responses for debugging purposes added.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.2.1</td>
						<td>9&nbsp;June&nbsp;2013</td>
						<td>
							<ol>
								<li>Default values for the optional count and offset arguments for the gets() methods, e.g. getClients() added.</li>
								<li>Missing getTransaction() method added.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.2</td>
						<td>27&nbsp;May&nbsp;2013</td>
						<td>
							<ol>
								<li>Support for the Paymill Offer object added.</li>
								<li>The data type of "amount" changed from integer to decimal. When submitting and retrieving an amount
							it is now no longer necessary to convert the currency amount to or from an integer.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.1.1</td>
						<td>13&nbsp;May&nbsp;2013</td>
						<td>
							<ol>
								<li>Missing var declaration for "result" in addPreauthorization() and addTransaction() added. Credit to Manoj Sudra for spotting my oversight.</li>
							</ol>
						</td>
					</tr>
					<tr>
						<td>0.1</td>
						<td>5&nbsp;May&nbsp;2013</td>
						<td>
							<ol>
								<li>Initial release.</li>
							</ol>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

				</div>
			</div>

			<footer>
				<hr />

				<p>&copy;Richard Herbert 2013-2017  (Code: v0.4 / Documenation: v0.4)</p>
			</footer>
 		</div>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>

		<script src="js/vendor/bootstrap.min.js"></script>
		<script src="js/main.js"></script>

		<script type="text/javascript">
			var PAYMILL_PUBLIC_KEY = '39807165956a5f3404fa8225d24b887a';
		</script>

		<script type="text/javascript" src="https://bridge.paymill.com/"></script>

		<script type="text/javascript">
			$(document).ready(function() {
				function PaymillResponseHandler(error, result) {
					if (error) {
// Displays the error above the form
						$(".payment-errors").text(error.apierror);
					} else {
						var form = $("#payment-form");
// Output token
						var token = result.token;

// Insert token into form in order to submit to server
						form.append("<input type='hidden' name='paymillToken' value='" + token + "' />");

// Submit form
						form.get(0).submit();
					}
				};

				$("#payment-form").submit(function(event) {
					$('.submit-button').attr("disabled", "disabled");
					paymill.createToken({
						number: $('.card-number').val(),
						exp_month: $('.card-expiry-month').val(),
						exp_year: $('.card-expiry-year').val(),
						cvc: $('.card-cvc').val(),
						amount_int: $('.card-amount-int').val(),
						currency: $('.card-currency').val(),
						cardholder: $('.card-holdername').val()
					}, PaymillResponseHandler);

					return false;
				});
			});
		</script>


			<script type="text/javascript">
				var _gaq = _gaq || [];
				_gaq.push(['_setAccount', 'UA-893499-14']);
				_gaq.push(['_trackPageview']);

				(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
				})();
			</script>

	</body>
</html>

